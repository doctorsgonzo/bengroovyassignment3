<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- **************************************************************** -->
<!-- *  PLEASE KEEP COMPLICATED EXPRESSIONS OUT OF THESE TEMPLATES, * -->
<!-- *  i.e. only iterate & print data where possible. Thanks, Jez. * -->
<!-- **************************************************************** -->

<html>
<head>
<!-- Generated by groovydoc (1.6.7-SNAPSHOT) on Thu Dec 17 17:18:01 GMT 2009 -->
<title>AuthenticationService (Groovy Documentation)</title>
<meta name="date" content="2009-12-17">
<link href="../../../../../groovy.ico" type="image/x-icon" rel="shortcut icon">
<link href="../../../../../groovy.ico" type="image/x-icon" rel="icon">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<script type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="AuthenticationService (Groovy Documentation)";
    }
}
</script>
<noscript>
</noscript>

</head><body onload="windowTitle();" bgcolor="white">
<hr>

<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>

  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <!--<TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  -->
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
<b>Groovy Documentation</b>
</EM></TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><!--<FONT SIZE="-2">
&nbsp;<A HREF="../../../../../groovy/lang/ExpandoMetaClass.ExpandoMetaProperty.html" title="class in groovy.lang"><B>PREV CLASS</B></A>&nbsp;

&nbsp;<A HREF="../../../../../groovy/lang/GroovyClassLoader.html" title="class in groovy.lang"><B>NEXT CLASS</B></A></FONT>--></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../../index.html?grails-app/services/com/grailsrocks/authentication/AuthenticationService.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="AuthenticationService.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<script type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../../allclasses-frame.html"><B>All Classes</B></A>');
  }
  //-->
</script>
<noscript>
  <A HREF="../../../../../allclasses-frame.html"><B>All Classes</B></A>
</noscript>

</FONT></TD>

</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#property_summary">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#prop_detail">PROPERTY</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- ========= END OF TOP NAVBAR ========= -->


<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
grails-app.services.com.grailsrocks.authentication</FONT>
<BR>
<FONT CLASS="ClassTitleFont">Class AuthenticationService</FONT></H2>
<pre>java.lang.Object
  <img src='../../../../../inherit.gif'>grails-app.services.com.grailsrocks.authentication.AuthenticationService
</pre><hr>
<PRE>class AuthenticationService

</PRE>


<!-- =========== NESTED CLASS SUMMARY =========== -->

<A NAME="nested_summary"><!-- --></A>


<!-- =========== ENUM CONSTANT SUMMARY =========== -->

<A NAME="enum_constant_summary"><!-- --></A>


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>


<!-- =========== PROPERTY SUMMARY =========== -->

<A NAME="property_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#REQUEST_KEY_AUTH_USER">REQUEST_KEY_AUTH_USER</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#SESSION_KEY_AUTH_USER">SESSION_KEY_AUTH_USER</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#STATUS_AWAITING_CONFIRMATION">STATUS_AWAITING_CONFIRMATION</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#STATUS_CONFIRMATION_LAPSED">STATUS_CONFIRMATION_LAPSED</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#STATUS_NEW">STATUS_NEW</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#STATUS_VALID">STATUS_VALID</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>private&nbsp;static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#defaultEventHandlers">defaultEventHandlers</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#events">events</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#handleAuthenticatedRequest">handleAuthenticatedRequest</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>boolean</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#transactional">transactional</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
        <CODE>static&nbsp;def</CODE></FONT></TD>
        <TD>
            <CODE><B><A HREF="#userDomainClass">userDomainClass</A></B></CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- =========== ELEMENT SUMMARY =========== -->



<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#D5D5FF" CLASS="TableHeadingColor">
    <TD COLSPAN=2><FONT SIZE="+2">
    <B>Constructor Summary</B></FONT></TD>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD>
            <CODE><B><a href="#AuthenticationService()">AuthenticationService</a></B>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;


<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2" CLASS="ClassHeadingFont">
    <B>Method Summary</B></FONT></TH>
    </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#checkLogin(def)">checkLogin</a></b>(def value)</CODE>
            <BR>
            <P>*********** IMPORTANT *************</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#checkPassword(def)">checkPassword</a></b>(def value)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#configChanged()">configChanged</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#confirmUser(def)">confirmUser</a></b>(def login)</CODE>
            <BR>
            <P> Call when a user's account has been confirmed and can now be used

 
	 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#delete(def)">delete</a></b>(def login)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#doLoggedIn(AuthenticatedUser)">doLoggedIn</a></b>(AuthenticatedUser user)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#encodePassword(def)">encodePassword</a></b>(def value)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#exists(def)">exists</a></b>(def login)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#filterRequest(def, def, def)">filterRequest</a></b>(def request, def response, def loginURI)</CODE>
            <BR>
            <P> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
	 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#filterRequest(def)">filterRequest</a></b>(def loginURI)</CODE>
            <BR>
            <P> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
 This variant gets the req/resp from the threadlocal context - slower than if you already have them, but better
 if you don't / want less wordy code
	 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#fireEvent(def, def)">fireEvent</a></b>(def eventName, def data)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>AuthenticatedUser</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getSessionUser()">getSessionUser</a></b>()</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getUserDomainObjectById(def)">getUserDomainObjectById</a></b>(def id)</CODE>
            <BR>
            <P> Get the instance of the user authentication object, no matter what application-supplied domain class is being used
	 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#getUserPrincipal(boolean)">getUserPrincipal</a></b>(boolean refresh = false)</CODE>
            <BR>
            <P> Get the user domain object for the current logged in user. </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#isLoggedIn(def)">isLoggedIn</a></b>(def request)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>AuthenticatedUser</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#login(def, def)">login</a></b>(def login, def pass)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#logout(AuthenticatedUser)">logout</a></b>(AuthenticatedUser authenticatedUser)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>boolean</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#requireAuthorization(def, def)">requireAuthorization</a></b>(def requirement, def loginURI)</CODE>
            <BR>
            <P> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation 
 AND calls into events to check the user has the desired "requirement" - which is any object you like
 This is used to implement per-controller/action role/permission enforcement using Filters
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
	 </P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;void</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#setSessionUser(AuthenticatedUser)">setSessionUser</a></b>(AuthenticatedUser user)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>AuthenticatedUser</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#signup(Map)">signup</a></b>(java.util.Map params)</CODE>
            <BR>
            <P> <p>Create a new user account, with domain and email notification etc deferred to the 
 event handlers.</P>
        </TD>
        </TR>
    
        <TR BGCOLOR="white" CLASS="TableRowColor">
        <TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1" CLASS="ClassItemFont">
            <CODE>protected&nbsp;def</CODE></FONT>
        </TD>
        <TD>
            <CODE><b><a href="#userStatusToResult(def)">userStatusToResult</a></b>(def userStatus)</CODE>
            <BR>
            <P></P>
        </TD>
        </TR>
    
    </TABLE>
    &nbsp;
<table BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
                <tr CLASS="TableSubHeadingColor"><th ALIGN="left" COLSPAN="2">
                <b>Methods inherited from class java.lang.Object</b>
                </th></tr>
                <tr class="TableRowColor"><td colspan='2'>wait, wait, wait, hashCode, getClass, equals, toString, notify, notifyAll</td></tr>
                </table>
                &nbsp;

<P>

<!-- ============ ENUM CONSTANT DETAIL ========== -->

<A NAME="enum_constant_detail"><!-- --></A>


<!-- =========== FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>


<!-- =========== PROPERTY DETAIL =========== -->

<A NAME="prop_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
    <B>Property Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="REQUEST_KEY_AUTH_USER"><!-- --></A><H3>REQUEST_KEY_AUTH_USER</H3>
        <PRE>static&nbsp;final&nbsp;def <B>REQUEST_KEY_AUTH_USER</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="SESSION_KEY_AUTH_USER"><!-- --></A><H3>SESSION_KEY_AUTH_USER</H3>
        <PRE>static&nbsp;final&nbsp;def <B>SESSION_KEY_AUTH_USER</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="STATUS_AWAITING_CONFIRMATION"><!-- --></A><H3>STATUS_AWAITING_CONFIRMATION</H3>
        <PRE>static&nbsp;final&nbsp;def <B>STATUS_AWAITING_CONFIRMATION</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="STATUS_CONFIRMATION_LAPSED"><!-- --></A><H3>STATUS_CONFIRMATION_LAPSED</H3>
        <PRE>static&nbsp;final&nbsp;def <B>STATUS_CONFIRMATION_LAPSED</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="STATUS_NEW"><!-- --></A><H3>STATUS_NEW</H3>
        <PRE>static&nbsp;final&nbsp;def <B>STATUS_NEW</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="STATUS_VALID"><!-- --></A><H3>STATUS_VALID</H3>
        <PRE>static&nbsp;final&nbsp;def <B>STATUS_VALID</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="defaultEventHandlers"><!-- --></A><H3>defaultEventHandlers</H3>
        <PRE>private&nbsp;static&nbsp;def <B>defaultEventHandlers</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="events"><!-- --></A><H3>events</H3>
        <PRE>def <B>events</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="handleAuthenticatedRequest"><!-- --></A><H3>handleAuthenticatedRequest</H3>
        <PRE>def <B>handleAuthenticatedRequest</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="transactional"><!-- --></A><H3>transactional</H3>
        <PRE>boolean <B>transactional</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="userDomainClass"><!-- --></A><H3>userDomainClass</H3>
        <PRE>static&nbsp;def <B>userDomainClass</B></PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- =========== ELEMENT DETAIL =========== -->

<A NAME="element_detail"><!-- --></A>


<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Constructor Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="AuthenticationService()"><!-- --></A><H3>
        AuthenticationService</H3>
        <PRE><B>AuthenticationService</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>

    <TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
    <TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
    <TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
    <B>Method Detail</B></FONT></TH>
    </TR>
    </TABLE>
    
        <A NAME="checkLogin(def)"><!-- --></A><H3>
        checkLogin</H3>
        <PRE>public&nbsp;def <B>checkLogin</B>(def value)</PRE>
        <DL>
        <DD>*********** IMPORTANT *************
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="checkPassword(def)"><!-- --></A><H3>
        checkPassword</H3>
        <PRE>public&nbsp;def <B>checkPassword</B>(def value)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="configChanged()"><!-- --></A><H3>
        configChanged</H3>
        <PRE>void <B>configChanged</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="confirmUser(def)"><!-- --></A><H3>
        confirmUser</H3>
        <PRE>boolean <B>confirmUser</B>(def login)</PRE>
        <DL>
        <DD> Call when a user's account has been confirmed and can now be used

 <DL><DT><B>return:</B></DT><DD>true if user was found and confirmed, false if user not found
	 </DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="delete(def)"><!-- --></A><H3>
        delete</H3>
        <PRE>boolean <B>delete</B>(def login)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="doLoggedIn(AuthenticatedUser)"><!-- --></A><H3>
        doLoggedIn</H3>
        <PRE>protected&nbsp;void <B>doLoggedIn</B>(AuthenticatedUser user)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="encodePassword(def)"><!-- --></A><H3>
        encodePassword</H3>
        <PRE>public&nbsp;def <B>encodePassword</B>(def value)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="exists(def)"><!-- --></A><H3>
        exists</H3>
        <PRE>boolean <B>exists</B>(def login)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="filterRequest(def, def, def)"><!-- --></A><H3>
        filterRequest</H3>
        <PRE>boolean <B>filterRequest</B>(def request, def response, def loginURI)</PRE>
        <DL>
        <DD> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
	 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="filterRequest(def)"><!-- --></A><H3>
        filterRequest</H3>
        <PRE>boolean <B>filterRequest</B>(def loginURI)</PRE>
        <DL>
        <DD> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
 This variant gets the req/resp from the threadlocal context - slower than if you already have them, but better
 if you don't / want less wordy code
	 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="fireEvent(def, def)"><!-- --></A><H3>
        fireEvent</H3>
        <PRE>public&nbsp;def <B>fireEvent</B>(def eventName, def data)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getSessionUser()"><!-- --></A><H3>
        getSessionUser</H3>
        <PRE>AuthenticatedUser <B>getSessionUser</B>()</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getUserDomainObjectById(def)"><!-- --></A><H3>
        getUserDomainObjectById</H3>
        <PRE>public&nbsp;def <B>getUserDomainObjectById</B>(def id)</PRE>
        <DL>
        <DD> Get the instance of the user authentication object, no matter what application-supplied domain class is being used
	 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="getUserPrincipal(boolean)"><!-- --></A><H3>
        getUserPrincipal</H3>
        <PRE>public&nbsp;def <B>getUserPrincipal</B>(boolean refresh = false)</PRE>
        <DL>
        <DD> Get the user domain object for the current logged in user. Caches it for the lifetime of the request
 so updates elsewhere may not be seen
	 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="isLoggedIn(def)"><!-- --></A><H3>
        isLoggedIn</H3>
        <PRE>boolean <B>isLoggedIn</B>(def request)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="login(def, def)"><!-- --></A><H3>
        login</H3>
        <PRE>AuthenticatedUser <B>login</B>(def login, def pass)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="logout(AuthenticatedUser)"><!-- --></A><H3>
        logout</H3>
        <PRE>void <B>logout</B>(AuthenticatedUser authenticatedUser)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="requireAuthorization(def, def)"><!-- --></A><H3>
        requireAuthorization</H3>
        <PRE>boolean <B>requireAuthorization</B>(def requirement, def loginURI)</PRE>
        <DL>
        <DD> Call from filters to enforce authenticated user, redirect to login form / use http auth,
 handle "next URL" mechanics and optionally enforce authorisation 
 AND calls into events to check the user has the desired "requirement" - which is any object you like
 This is used to implement per-controller/action role/permission enforcement using Filters
 loginURI must be URI relative to this server (must include application context) and will be 
 redirected to if the user is not logged in
	 
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="setSessionUser(AuthenticatedUser)"><!-- --></A><H3>
        setSessionUser</H3>
        <PRE>protected&nbsp;void <B>setSessionUser</B>(AuthenticatedUser user)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="signup(Map)"><!-- --></A><H3>
        signup</H3>
        <PRE>AuthenticatedUser <B>signup</B>(java.util.Map params)</PRE>
        <DL>
        <DD> <p>Create a new user account, with domain and email notification etc deferred to the 
 event handlers.</p>
 <p>This method will first invoke the onFindByLogin event to see if a user already exists.
 If so it will return a user object with the ERROR_LOGIN_NAME_NOT_AVAILABLE result.</p>
 <p>If it does not already exist, it will then call the onNewUserObject event to create a new user
 record in your backing store, which is typically a Grails domain class (or the default one supplied by
 the plugin).</p>
 <p>Next the onConfirmAccount event is triggered. This returns true to indicate that confirmation
 of the user - i.e. two-phase registration, typicaly with email address confirmation - is needed. This
 even must return false if no user confirmation is required.</p>
 <p>After this, the onSaveUser event is called to save the new user details.</p>
 <p>Finally, the onSignup event is called to indicate that a new account has been created, whether it
 is pending confirmation or not. The "extraParams" object is passed to the event in case there are custom
 fields to capture from the signup process that are opaque to the authentication plugin.</p>
 <DL><DT><B>param:</B></DT><DD>params A map of parameters to include "login" and "password" at the very least, optionally
 containing "email" (user's email address) and "immediate" (a boolean indicating whether the user should
 be immediately logged in if confirmation is not being required) - and "extraParams" a map of any other parameters
 typically the request params from the controller so that any custom fields from the signup process
 can be captured and passed to the onSignup event.
     </DD></DL>
        </DD>
        <P>
        </DL>
        <HR>
    
        <A NAME="userStatusToResult(def)"><!-- --></A><H3>
        userStatusToResult</H3>
        <PRE>protected&nbsp;def <B>userStatusToResult</B>(def userStatus)</PRE>
        <DL>
        <DD>
        </DD>
        <P>
        </DL>
        <HR>
    
    &nbsp;


<!-- ========= END OF CLASS DATA ========= -->
<p>Groovy Documentation</p>
<hr>

</body>
</html>
